<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
            content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>particle text</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
</body>
<script>

  // const canvas = document.querySelector('#canvas')
  // const wW = document.body.offsetWidth
  // const wH = document.body.offsetHeight
  // canvas.width = wW
  // canvas.height = wH
  // const ctx = canvas.getContext('2d');
  //
  // ctx.fillStyle = '#000';
  // ctx.font = 'bold 30px Arial';
  // ctx.textAlign = 'center'
  //
  // ctx.fillText('aaa', wW / 2, wH / 2)
  getTextData('hello, word')

  function getTextData(text) {
    const c = document.create('canvas')
    const w = c.width
    const h = c.height
    const wW = document.body.offsetWidth
    const wH = document.body.offsetHeight
    const ctx = c.getContext()

    ctx.fillStyle = '#000';
    ctx.font = 'bold 10px Arial';
    const measure = ctx.measureText(text); // 测量文字，用来获取宽度
    const size = 0.8;
// 宽高分别达到屏幕0.8时的size
    const fSize = Math.min(h * size * 10 / lineHeight, wW * size * 10 / measure.width);  // 10像素字体行高 lineHeight=7 magic
    ctx.font = `bold ${fSize}px Arial`;

  }

</script>
</html>
